{
  "name": "PeopleSearcher",
  "url": "peoplesearcher.com",
  "version": "0.6.0",
  "parent": "privatereports.com",
  "optOutUrl": "https://www.peoplesearcher.com/optOut/name/landing",
  "steps": [
    {
      "stepType": "scan",
      "scanType": "templatedUrl",
      "actions": [
        {
          "actionType": "navigate",
          "url": "https://www.peoplesearcher.com/optOut/name/landing",
          "id": "5a163537-6f89-4652-9a87-0b8054e72bbf"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": ".search-wrapper"
            }
          ],
          "id": "4331a086-569b-443e-ad37-d63941c70550"
        },
        {
          "actionType": "fillForm",
          "dataSource": "userProfile",
          "selector": ".search-wrapper",
          "elements": [
            {
              "type": "firstName",
              "selector": "#firstName"
            },
            {
              "type": "lastName",
              "selector": "#lastName"
            },
            {
              "type": "state",
              "selector": "#state"
            }
          ],
          "id": "dc30fab6-473e-4509-b474-c4a79e60d330"
        },
        {
          "actionType": "click",
          "elements": [
            {
              "type": "button",
              "selector": "button[type='submit']"
            }
          ],
          "id": "3fdcae4f-58f1-49af-a46b-a0ba6e5839f5"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": ".container"
            }
          ],
          "id": "30d52cd2-05a6-4df1-8f80-7a8eaf10ece8"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": "//div[@data-key='comp.name-search.rule.question.reSearch.cityState']",
              "failSilently": true
            }
          ],
          "actions": [
            {
              "actionType": "click",
              "elements": [
                {
                  "type": "button",
                  "selector": "button[class~='btn-primary']"
                }
              ],
              "id": "502c1894-b30a-492c-b543-a1c1a1f0e745"
            }
          ],
          "id": "a6b131d3-0e86-4317-96ae-82dbdbc74278"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": ".container"
            }
          ],
          "id": "7f029aeb-074b-49c0-9042-8d24286aaa5b"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": "//div[@data-key='comp.name-search.rule.question.reSearch.moreThanAge']",
              "failSilently": true
            }
          ],
          "actions": [
            {
              "actionType": "click",
              "choices": [
                {
                  "condition": {
                    "left": "${age}",
                    "operation": ">=",
                    "right": "45"
                  },
                  "elements": [
                    {
                      "type": "button",
                      "selector": "//button[contains(text(), 'Yes')]"
                    }
                  ]
                }
              ],
              "default": {
                "elements": [
                  {
                    "type": "button",
                    "selector": "//button[contains(text(), 'No')]"
                  }
                ]
              },
              "id": "e053f853-2dcf-4716-8b2e-34cc28ab24be"
            }
          ],
          "id": "9595db45-4344-4848-a41c-e1dea31c64d4"
        },
        {
          "actionType": "expectation",
          "_comment": "add a bit more wait time for the captchas to complete",
          "expectations": [
            {
              "type": "element",
              "selector": ".container"
            }
          ],
          "id": "b2f63b8b-108d-49a0-a762-3fa7fef404a5"
        },
        {
          "actionType": "condition",
          "_comment": "captcha is not always present at this stage",
          "expectations": [
            {
              "type": "element",
              "selector": "#svg-captcha-rendering svg",
              "failSilently": true
            }
          ],
          "actions": [
            {
              "actionType": "getCaptchaInfo",
              "captchaType": "image",
              "selector": "#svg-captcha-rendering svg",
              "id": "7d1d8b27-5fe5-4499-afa3-a3aa57290c9d"
            },
            {
              "actionType": "solveCaptcha",
              "captchaType": "image",
              "selector": "#svgCaptchaInputId",
              "id": "a0008990-20c2-4fb3-a29c-63027f54b671"
            },
            {
              "actionType": "click",
              "failSilently": true,
              "elements": [
                {
                  "type": "button",
                  "selector": "#svgCaptchaButtonId"
                }
              ],
              "id": "847e5445-bd68-4ea4-b52f-6356b9d6b753"
            }
          ],
          "id": "f5c7f68f-6c3d-4724-af31-ec1679c90da5"
        },
        {
          "actionType": "expectation",
          "expectations": [
            {
              "type": "element",
              "selector": ".container"
            }
          ],
          "id": "e67ccd9d-668b-496d-b78f-50d754980fb6"
        },
        {
          "actionType": "click",
          "elements": [
            {
              "type": "button",
              "selector": ".result .more",
              "multiple": true,
              "failSilently": true
            }
          ],
          "id": "dcd07cec-1507-4cdf-99eb-9079c238f491"
        },
        {
          "actionType": "extract",
          "selector": "//li[contains(@class, 'searchedPerson')]",
          "noResultsSelector": "//div[contains(text(), 'unable to find')]|//h2[contains(text(), 'too many results')]",
          "profile": {
            "name": {
              "selector": ".//a/div[1]//h3"
            },
            "age": {
              "selector": ".//a/div[1]//h4",
              "afterText": "Age:"
            },
            "relativesList": {
              "selector": ".//strong[contains(text(), 'relative')]/following-sibling::text()",
              "findElements": true
            },
            "addressCityState": {
              "selector": ".//strong[contains(text(), 'Locations:')]/following-sibling::text()",
              "findElements": true
            },
            "profileUrl": {
              "identifierType": "hash"
            }
          },
          "id": "04c0a5bc-d175-4019-aca0-02601e47b280"
        }
      ]
    },
    {
      "stepType": "optOut",
      "optOutType": "parentSiteOptOut",
      "actions": []
    }
  ],
  "schedulingConfig": {
    "retryError": 48,
    "confirmOptOutScan": 72,
    "maintenanceScan": 120,
    "maxAttempts": -1
  },
  "addedDatetime": 1738341001174,
  "removedAt": null
}
