{
    "m_mac_dbp_secure_vault_database_recreated": {
        "description": "Fired when the DBP secure vault database has been recreated in response to SQLITE_NOTADB or SQLITE_CORRUPT errors",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": ["first_daily_count"],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "isInternalUser",
                "description": "Whether the user is internal",
                "type": "string",
                "enum": ["true", "false"]
            }
        ]
    },
    "m_mac_dbp_optout_stage_start": {
        "description": "Fired at the start stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_email-generate": {
        "description": "Fired at the email generation stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_captcha-parse": {
        "description": "Fired at the captcha parse stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_captcha-send": {
        "description": "Fired at the captcha send stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_captcha-solve": {
        "description": "Fired at the captcha solve stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_submit": {
        "description": "Fired at the submit stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_email-receive": {
        "description": "Fired at the email receive stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_email-confirm": {
        "description": "Fired at the email confirmation stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_validate": {
        "description": "Fired at the validation stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_fill-form": {
        "description": "Fired at the fill-form stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Stage duration in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to complete the stage",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action executed in this stage",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_finish": {
        "description": "Fired at the finish stage of an opt-out attempt.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Duration of the final stage in milliseconds",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_process_submit-success": {
        "description": "Fired when an opt-out submission succeeds.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Total duration of the opt-out attempt in milliseconds",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries it took to submit successfully",
                "type": "string"
            },
            {
                "key": "pattern",
                "description": "Email pattern used during submission, when available",
                "type": "string"
            },
            {
                "key": "vpn_connection_state",
                "description": "Reported VPN connection state when the submission succeeded",
                "type": "string"
            },
            {
                "key": "vpn_bypass",
                "description": "VPN bypass status when the submission succeeded",
                "type": "string",
                "enum": ["on", "off", "unsupported"]
            }
        ]
    },
    "m_mac_dbp_optout_process_success": {
        "description": "Fired when an opt-out attempt completes successfully.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Total duration of the opt-out attempt in milliseconds",
                "type": "string"
            },
            {
                "key": "is_parent",
                "description": "Whether the data broker is a parent (1) or child (0)",
                "type": "string",
                "enum": ["0", "1"]
            },
            {
                "key": "vpn_connection_state",
                "description": "Reported VPN connection state when the attempt succeeded",
                "type": "string"
            },
            {
                "key": "vpn_bypass",
                "description": "VPN bypass status when the attempt succeeded",
                "type": "string",
                "enum": ["on", "off", "unsupported"]
            }
        ]
    },
    "m_mac_dbp_optout_process_failure": {
        "description": "Fired when an opt-out attempt fails.",
        "owners": ["quanganhdo", "edulpn", "THISISDINOSAUR"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this opt-out attempt targets",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "Client-generated ID of the opt-out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Total duration of the opt-out attempt in milliseconds",
                "type": "string"
            },
            {
                "key": "stage",
                "description": "The stage where the failure occurred",
                "type": "string"
            },
            {
                "key": "tries",
                "description": "The number of tries recorded when the failure happened",
                "type": "string"
            },
            {
                "key": "pattern",
                "description": "Email pattern used during the attempt, when available",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Predefined identifier of the broker action that failed",
                "type": "string"
            },
            {
                "key": "action_type",
                "description": "Type of action that failed",
                "type": "string",
                "enum": [
                    "extract",
                    "navigate",
                    "fillForm",
                    "click",
                    "expectation",
                    "emailConfirmation",
                    "getCaptchaInfo",
                    "solveCaptcha",
                    "condition"
                ]
            },
            {
                "key": "vpn_connection_state",
                "description": "Reported VPN connection state when the failure happened",
                "type": "string"
            },
            {
                "key": "vpn_bypass",
                "description": "VPN bypass status when the failure happened",
                "type": "string",
                "enum": ["on", "off", "unsupported"]
            }
        ]
    },
    "m_mac_dbp_optoutjob_at-42-days_confirmed": {
        "description": "Fired when a successfully submitted opt-out reaches 42 days since submission and has been confirmed (record removed).",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker the opt out was acting on",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optoutjob_at-42-days_unconfirmed": {
        "description": "Fired when a successfully submitted opt-out reaches 42 days since submission and remains unconfirmed (record not removed).",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker the opt out was acting on",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_optout_stage_condition-found": {
        "description": "Fired at the condition-found stage of an opt-out attempt.",
        "owners": ["quanganhdo", "samsymons"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "tries",
                "description": "The number of tries it took for the action to complete",
                "type": "integer"
            },
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "The duration of the action execution in milliseconds",
                "type": "number"
            }
        ]
    },
    "m_mac_dbp_optout_stage_condition-not-found": {
        "description": "Fired when DBP runs a condition action and its expectation is not met",
        "owners": ["samsymons", "quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "isInternalUser",
                "description": "Whether the user is internal",
                "type": "string",
                "enum": ["true", "false"]
            },
            {
                "key": "tries",
                "description": "The number of tries it took for the action to complete",
                "type": "integer"
            },
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "The duration of the action execution in milliseconds",
                "type": "number"
            }
        ]
    },
    "m_mac_dbp_service_generate-email_http-error": {
        "description": "Fired when the backend email generation request returns a non-2xx status code",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            {
                "key": "environment",
                "description": "DBP backend environment",
                "type": "string",
                "enum": ["production", "staging"]
            },
            {
                "key": "http_code",
                "description": "HTTP status code from backend email generation",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_empty-auth-token": {
        "description": "Fired when a backend DBP service call is attempted without an auth token",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            {
                "key": "environment",
                "description": "DBP backend environment",
                "type": "string",
                "enum": ["production", "staging"]
            },
            {
                "key": "backend_service_callsite",
                "description": "Service call site that attempted to use the auth token",
                "type": "string",
                "enum": [
                    "extractEmailLink",
                    "getEmail",
                    "submitCaptchaInformationRequest",
                    "submitCaptchaToBeResolvedRequest",
                    "fetchEmailData",
                    "deleteEmailData"
                ]
            },
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on (unknown when not available)",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file (unknown when not available)",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation-link_client-received": {
        "description": "Fired when the client persists a confirmation link provided by the backend",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "link_age_ms",
                "description": "Time from when the link is received on BE till it's retrieved on the client (in milliseconds)",
                "type": "number"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation-link_backend-status_error": {
        "description": "Fired when the backend returns an unknown/error status while polling email data",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "status",
                "description": "Backend item status",
                "type": "string",
                "enum": ["unknown", "error"]
            },
            {
                "key": "error_code",
                "description": "Backend item error code",
                "type": "string",
                "enum": ["server_error", "extraction_error", "request_error"]
            }
        ]
    },
    "m_mac_dbp_optout_stage_submit-awaiting-email-confirmation": {
        "description": "Fired when the opt-out form is submitted and the operation is awaiting email confirmation",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "The duration of the action execution in milliseconds",
                "type": "number"
            },
            {
                "key": "tries",
                "description": "The number of tries it took for the action to complete",
                "type": "integer"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation_attempt-start": {
        "description": "Fired when an email confirmation attempt is starting",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_number",
                "description": "The confirmation attempt number (1..3)",
                "type": "integer"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation_attempt-success": {
        "description": "Fired when an email confirmation attempt succeeds",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_number",
                "description": "The confirmation attempt number (1..3)",
                "type": "integer"
            },
            {
                "key": "duration",
                "description": "The duration of the attempt in milliseconds",
                "type": "number"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation_attempt-failure": {
        "description": "Fired when an email confirmation attempt fails (non-final).",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_number",
                "description": "The confirmation attempt number (1..3)",
                "type": "integer"
            },
            {
                "key": "duration",
                "description": "The duration of the attempt in milliseconds",
                "type": "number"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation_max-retries-exceeded": {
        "description": "Fired when the email confirmation job hits the maximum number of retries (final failure).",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "attempt_id",
                "description": "The ID of the opt out attempt",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "The ID of the action, to disambiguate between multiple actions in the same opt out attempt",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_service_email-confirmation_job-success": {
        "description": "Fired when the email confirmation job finishes successfully (after any number of attempts).",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "isInternalUser",
                "description": "Whether the user is internal",
                "type": "string",
                "enum": ["true", "false"]
            },
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_update_databrokers_success": {
        "description": "Fired when a data broker JSON is updated successfuly.",
        "owners": ["edulpn"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker_json_file",
                "description": "The JSON file name for the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "removed_at",
                "description": "Timestamp, in milliseconds, when the broker was removed at (contained on the JSON)",
                "type": "string"
            }
        ]
    },
    "m_mac_dbp_update_databrokers_failure": {
        "description": "Fired when a data broker JSON update has failed.",
        "owners": ["edulpn"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker_json_file",
                "description": "The JSON file name for the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "removed_at",
                "description": "Timestamp, in milliseconds, when the broker was removed at (contained on the JSON)",
                "type": "string"
            }
        ]
    },
    "m_mac_wide_pir_opt_out_submission": {
        "description": "Wide pixel sent at the end of a Data Broker Protection opt-out submission flow",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": ["daily_standard"],
        "parameters": [
            "appVersion",
            "wideEventAppName",
            "wideEventAppVersion",
            "wideEventPlatform",
            "wideEventType",
            "wideEventSampleRate",
            "wideEventFeatureStatus",
            "wideEventErrorDomain",
            "wideEventErrorCode",
            "wideEventUnderlyingErrorDomain",
            "wideEventUnderlyingErrorCode",
            {
                "key": "feature.name",
                "type": "string",
                "description": "Feature identifier for this wide pixel",
                "enum": ["pir-opt-out-submission"]
            },
            {
                "key": "feature.data.ext.data_broker",
                "type": "string",
                "description": "The URL of the data broker associated with this opt-out submission"
            },
            {
                "key": "feature.data.ext.data_broker_version",
                "type": "string",
                "description": "Version of the broker JSON file"
            },
            {
                "key": "feature.data.ext.submission_latency_ms",
                "type": "string",
                "description": "Duration in milliseconds between the record being found and submission completing"
            }
        ]
    },
    "m_mac_wide_pir_scan_attempt": {
        "description": "Wide pixel representing a broker scan attempt",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": ["daily_standard"],
        "parameters": [
            "appVersion",
            "wideEventAppName",
            "wideEventAppVersion",
            "wideEventPlatform",
            "wideEventType",
            "wideEventSampleRate",
            "wideEventFeatureStatus",
            "wideEventErrorDomain",
            "wideEventErrorCode",
            "wideEventUnderlyingErrorDomain",
            "wideEventUnderlyingErrorCode",
            {
                "key": "feature.name",
                "type": "string",
                "description": "Feature identifier for this wide pixel",
                "enum": ["pir-scan-attempt"]
            },
            {
                "key": "feature.data.ext.data_broker",
                "type": "string",
                "description": "The URL of the data broker associated with this scan"
            },
            {
                "key": "feature.data.ext.data_broker_version",
                "type": "string",
                "description": "Version of the broker JSON file"
            },
            {
                "key": "feature.data.ext.scan.attempt_type",
                "type": "string",
                "description": "Category of the scan attempt",
                "enum": ["new-data", "regular-check", "removal-verification"]
            },
            {
                "key": "feature.data.ext.scan.attempt_number",
                "type": "string",
                "description": "Ordinal number for attempts within the current scan cycle"
            },
            {
                "key": "feature.data.ext.scan.latency_ms",
                "type": "string",
                "description": "Duration in milliseconds between the scan attempt start and completion"
            }
        ]
    },
    "m_mac_wide_pir_opt_out_confirmation": {
        "description": "Wide pixel sent when an opt-out confirmation flow completes",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": ["daily_standard"],
        "parameters": [
            "appVersion",
            "wideEventAppName",
            "wideEventAppVersion",
            "wideEventPlatform",
            "wideEventType",
            "wideEventSampleRate",
            "wideEventFeatureStatus",
            "wideEventErrorDomain",
            "wideEventErrorCode",
            "wideEventUnderlyingErrorDomain",
            "wideEventUnderlyingErrorCode",
            {
                "key": "feature.name",
                "type": "string",
                "description": "Feature identifier for this wide pixel",
                "enum": ["pir-opt-out-confirmation"]
            },
            {
                "key": "feature.data.ext.data_broker",
                "type": "string",
                "description": "The URL of the data broker associated with this confirmation flow"
            },
            {
                "key": "feature.data.ext.data_broker_version",
                "type": "string",
                "description": "Version of the broker JSON file"
            },
            {
                "key": "feature.data.ext.confirmation_latency_ms",
                "type": "string",
                "description": "Duration in milliseconds between the record being found and the opt-out confirmation"
            }
        ]
    },
    "m_mac_dbp_search_stage_main_status_error": {
        "description": "Fired when a PIR scan encounters an error.",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker the scan was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "duration",
                "description": "Total duration of the scan in milliseconds",
                "type": "number"
            },
            {
                "key": "error_category",
                "description": "High-level error classification",
                "type": "string",
                "pattern": "^(network-error|validation-error|unclassified|client-error-[0-9]+|server-error-[0-9]+|database-error-.+)$"
            },
            {
                "key": "error_details",
                "description": "Error description supplied by the failing stage",
                "type": "string"
            },
            {
                "key": "is_manual_scan",
                "description": "Whether the scan was initiated manually by the user",
                "type": "string",
                "enum": ["true", "false"]
            },
            {
                "key": "vpn_connection_state",
                "description": "Reported VPN connection state when the error occurred",
                "type": "string"
            },
            {
                "key": "vpn_bypass",
                "description": "VPN bypass status when the error occurred",
                "type": "string",
                "enum": ["on", "off", "unsupported"]
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this action was operating on",
                "type": "string"
            },
            {
                "key": "action_id",
                "description": "Identifier of the action that was executing when the error occurred",
                "type": "string"
            },
            {
                "key": "action_type",
                "description": "Type of action that produced the error",
                "type": "string",
                "enum": [
                    "extract",
                    "navigate",
                    "fillForm",
                    "click",
                    "expectation",
                    "emailConfirmation",
                    "getCaptchaInfo",
                    "solveCaptcha",
                    "condition"
                ]
            }
        ]
    },
    "m_mac_dbp_data_broker_action-failed_error": {
        "description": "Fired when a scan or opt-out action fails while processing a data broker.",
        "owners": ["quanganhdo"],
        "triggers": ["other"],
        "suffixes": [],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "data_broker",
                "description": "The URL of the data broker that this action was operating on",
                "type": "string"
            },
            {
                "key": "broker_version",
                "description": "The version of the broker JSON file",
                "type": "string"
            },
            {
                "key": "actionID",
                "description": "The unique identifier of the action that failed",
                "type": "string"
            },
            {
                "key": "message",
                "description": "Failure message describing why the action failed",
                "type": "string"
            },
            {
                "key": "stepType",
                "description": "Identifies the failing step type (scan or optOut)",
                "type": "string",
                "enum": ["scan", "optOut", "unknown"]
            },
            {
                "key": "parent",
                "description": "The parent data broker of the one this action was operating on",
                "type": "string"
            }
        ]
    }
}
