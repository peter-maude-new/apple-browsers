// This file defines commonly used params - this does NOT mean they are added by default
// In your pixel definitions, you can reference these params by their key
// See TEMPLATE.json for an example
{
    "appVersion": {
        "key": "appVersion",
        "type": "string",
        "description": "",
        "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
        "examples": ["7.175.1"]
    },
    "atb": {
        "key": "atb",
        "type": "string",
        "pattern": "v[0-9]{1,3}-[0-7]([a-z]{2})?",
        "description": "Add to browser value, corresponding to the users install week and day"
    },
    "pixelSource": {
        "key": "pixelSource",
        "type": "string",
        "description": "The channel the user is on",
        "enum": ["phone", "tablet"]
    },
    "errorDomain": {
        "key": "d",
        "type": "string",
        "description": "NSError code domain",
        "examples": ["NSURLErrorDomain"]
    },
    "errorCode": {
        "key": "e",
        "type": "string",
        "description": "NSError code",
        "pattern": "^-?\\d+$",
        "examples": ["-1009", "42"]
    },
    "isInternalUser": {
        "key": "is_internal_user",
        "description": "Whether the user is flagged as internal.  Should ONLY be sent with \"true\" value",
        "type": "boolean",
        "enum": [true]
    },
    "underlyingErrorCode": {
        "keyPattern": "^ue[0-9]$",
        "type": "string",
        "description": "Underlying NSError code",
        "pattern": "^-?\\d+$",
        "examples": ["-1009", "42"]
    },
    "underlyingErrorDomain": {
        "keyPattern": "^ud[0-9]$",
        "type": "string",
        "description": "Underlying NSError code domain",
        "examples": ["NSURLErrorDomain"]
    },
    "wideEventAppName": {
        "key": "app.name",
        "type": "string",
        "description": "The name of the app sending the pixel",
        "enum": ["DuckDuckGo iOS"]
    },
    "wideEventAppVersion": {
        "key": "app.version",
        "type": "string",
        "description": "The version of the app sending the pixel"
    },
    "wideEventPlatform": {
        "key": "global.platform",
        "type": "string",
        "description": "The name of the platform that the app is running on",
        "enum": ["iOS"]
    },
    "wideEventType": {
        "key": "global.type",
        "type": "string",
        "description": "The type of software sending the wide pixel",
        "enum": ["app"]
    },
    "wideEventFormFactor": {
        "key": "app.form_factor",
        "type": "string",
        "description": "The form factor of the current device",
        "enum": ["phone", "tablet"]
    },
    "wideEventSampleRate": {
        "key": "global.sample_rate",
        "type": "number",
        "description": "Sample rate for this pixel, between 0 and 1"
    },
    "wideEventFeatureStatus": {
        "key": "feature.status",
        "type": "string",
        "description": "Final status of the wide event flow",
        "enum": ["SUCCESS", "FAILURE", "CANCELLED", "UNKNOWN"]
    },
    "wideEventErrorDomain": {
        "key": "feature.data.error.domain",
        "type": "string",
        "description": "Error domain for the failure, when applicable, e.g. SKErrorDomain"
    },
    "wideEventErrorCode": {
        "key": "feature.data.error.code",
        "type": "string",
        "description": "Error code for the failure, when applicable",
        "pattern": "^-?\\d+$"
    },
    "wideEventErrorDescription": {
        "key": "feature.data.error.description",
        "type": "string",
        "description": "Error description for the failure, when applicable",
        "examples": ["saveToPreferencesFailed", "startVPNFailed"]
    },
    "wideEventUnderlyingErrorDomain": {
        "keyPattern": "feature\\.data\\.error\\.underlying_domain[0-9]*",
        "type": "string",
        "description": "Underlying error domain (supports optional numeric index for nested errors)"
    },
    "duration": {
        "key": "duration",
        "type": "string",
        "description": "Duration in milliseconds",
        "pattern": "^\\d+$",
        "examples": ["1500", "3200"]
    },
    "navigation_type": {
        "key": "navigation_type",
        "type": "string",
        "description": "Type of navigation that triggered the loading",
        "enum": [
            "linkActivated",
            "formSubmitted",
            "formResubmitted",
            "backForward",
            "reload",
            "redirect",
            "sessionRestoration",
            "alternateHtmlLoad",
            "sameDocumentNavigation",
            "other",
            "custom.userEnteredUrl",
            "custom.loadedByStateRestoration",
            "custom.appOpenUrl",
            "custom.historyEntry",
            "custom.bookmark",
            "custom.ui",
            "custom.link",
            "custom.webViewUpdated",
            "custom.userRequestedPageDownload",
            "custom.unknown"
        ]
    },
    "wideEventUnderlyingErrorCode": {
        "keyPattern": "feature\\.data\\.error\\.underlying_code[0-9]*",
        "type": "string",
        "description": "Underlying error code (supports optional numeric index for nested errors)",
        "pattern": "^-?\\d+$"
    }
}
