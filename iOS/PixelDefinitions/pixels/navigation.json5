{
    "navigation": {
        "description": "Fired when a website navigation is performed.",
        "owners": ["ayoy"],
        "triggers": ["new_tab", "page_load"],
        "parameters": ["appVersion", "pixelSource"]
    },
    "navigationToExternalURL": {
        "description": "Fires when the browser is activated to open a link from another app. This can only happen when the browser is set as the default browser.",
        "owners": ["ayoy"],
        "triggers": ["other"],
        "suffixes": ["daily"],
        "parameters": ["appVersion", "pixelSource"]
    },
    "siteLoadingSuccess": {
        "description": "Fired when a site loading navigation completes successfully.",
        "owners": ["diegoreymendez"],
        "triggers": ["page_load"],
        "parameters": ["appVersion", "pixelSource", "duration", "navigation_type"]
    },
    "siteLoadingFailure": {
        "description": "Fired when a site loading navigation fails.",
        "owners": ["diegoreymendez"],
        "triggers": ["page_load"],
        "parameters": [
            "appVersion",
            "pixelSource",
            "duration",
            "navigation_type",
            "errorCode",
            "errorDomain",
            "underlyingErrorCode",
            "underlyingErrorDomain"
        ]
    },
    "siteLoadingTiming": {
        "description": "Fired when WKPageLoadTiming data is available for a site loading navigation. Provides detailed performance timing metrics.",
        "owners": ["diegoreymendez"],
        "triggers": ["page_load"],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "webKitFirstVisualLayoutMs",
                "type": "integer",
                "description": "Time in milliseconds from navigation start to first visual layout"
            },
            {
                "key": "webKitFirstMeaningfulPaintMs",
                "type": "integer",
                "description": "Time in milliseconds from navigation start to first meaningful paint"
            },
            {
                "key": "webKitDocumentCompleteMs",
                "type": "integer",
                "description": "Time in milliseconds from navigation start to document complete"
            },
            {
                "key": "webKitAllResourcesCompleteMs",
                "type": "integer",
                "description": "Time in milliseconds from navigation start to all resources complete"
            }
        ]
    },
    "siteLoadingPerformance": {
        "description": "Fired when CSS pushes privacy-aware performance metrics via expandedPerformanceMetricsResult notification",
        "owners": ["diegoreymendez"],
        "triggers": ["page_load"],
        "parameters": [
            "appVersion",
            "pixelSource",
            {
                "key": "first_contentful_paint_ms",
                "type": "integer",
                "description": "First Contentful Paint in milliseconds (rounded for privacy)"
            },
            {
                "key": "largest_contentful_paint_ms",
                "type": "integer",
                "description": "Largest Contentful Paint in milliseconds (rounded for privacy)"
            },
            {
                "key": "time_to_first_byte_ms",
                "type": "integer",
                "description": "Time to First Byte in milliseconds (rounded for privacy)"
            },
            {
                "key": "load_complete_ms",
                "type": "integer",
                "description": "Load Complete time in milliseconds (rounded for privacy)"
            },
            {
                "key": "transfer_size_bucket",
                "type": "string",
                "enum": ["small", "medium", "large", "very_large"],
                "description": "Transfer size bucket to prevent fingerprinting"
            },
            {
                "key": "decoded_body_size_bucket",
                "type": "string",
                "enum": ["small", "medium", "large", "very_large"],
                "description": "Decoded body size bucket to prevent fingerprinting"
            },
            {
                "key": "encoded_body_size_bucket",
                "type": "string",
                "enum": ["small", "medium", "large", "very_large"],
                "description": "Encoded body size bucket to prevent fingerprinting"
            },
            {
                "key": "resource_count_bucket",
                "type": "string",
                "enum": ["few", "moderate", "many", "excessive"],
                "description": "Resource count bucket to prevent fingerprinting"
            },
            {
                "key": "total_resources_size_bucket",
                "type": "string",
                "enum": ["small", "medium", "large", "very_large"],
                "description": "Total resources size bucket to prevent fingerprinting"
            },
            {
                "key": "dom_interactive_ms",
                "type": "integer",
                "description": "DOM Interactive time in milliseconds (rounded for privacy)"
            },
            {
                "key": "dom_complete_ms",
                "type": "integer",
                "description": "DOM Complete time in milliseconds (rounded for privacy)"
            },
            {
                "key": "dom_content_loaded_ms",
                "type": "integer",
                "description": "DOM Content Loaded time in milliseconds (rounded for privacy)"
            },
            {
                "key": "redirect_count_bucket",
                "type": "string",
                "enum": ["none", "few", "moderate", "many"],
                "description": "Redirect count bucket to prevent fingerprinting"
            }
        ]
    }
}
